<div class="booking_form">
	<%= form_for @reservation, url: hotel_preview_path(@hotel), method: :post  do |f| %>
          <% if @reservation.errors.any? %>
              <div id="error_explanation">
                <h2><%= @reservation.errors.count %>件のエラーがあります。</h2>
                <ul>
                <% @reservation.errors.messages.each do |msg| %>
                  <li><%= msg %></li>
                <% end %>
                </ul>
              </div>
            <% end %>
			<div class="form-group check_in">
				<small>日付</small>
               	<%= f.text_field :check_in, :class => 'form-control', :id =>'datetimepicker6', :placeholder => "チェックイン日"%>        
            </div>
           <div class="form-group check_out">
	            <%= f.text_field :check_out, :class => 'form-control', :id =>'datetimepicker7',:placeholder => "チェックアウト日"%>
			</div>
			<br>
			<div class="form-group">
				<small>宿泊人数</small>
	            <%= f.number_field :guest_count, :min =>'1', :max => @hotel.accomodate, :class => 'form-control', :placeholder => "人数を入力して下さい。"%>
	        </div>
			<div>
				<%= f.submit "予約へ", class: "btn btn-danger" %>
				<small>※予約確認画面へ進みます。</small>
			</div>
	<% end %>
</div>  

 
<script>
    $(function () {
    	var c = <%= count(@hotel) %>;
        $('#datetimepicker6').datetimepicker({
            viewMode: 'days',
            format: 'YYYY/MM/DD',
            enabledDates: c           
        });
        $('#datetimepicker7').datetimepicker({
            viewMode: 'days',
            format: 'YYYY/MM/DD',
            enabledDates: c ,
            useCurrent: false //Important! See issue #1075
        });
        $("#datetimepicker6").on("dp.change", function (e) {
            $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
        });
        $("#datetimepicker7").on("dp.change", function (e) {
            $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
        });

    });
</script>

